var searchController=angular.module("searchController",["ngEnter"]);searchController.controller("SearchController",["$scope","$http","$window","detailsService",function(e,n,i,s){e.chosen_ingredients=[],e.recipes=[],e.dataArray=[],e.query_result=[],e.match="",e.reset=function(){e.match="",e.query_result.length=0},e.insert=function(n){e.chosen_ingredients.push({name:n}),e.displayRecipes(),e.reset()},e.queryIngredients=function(i){var s="/api/ingredients/",t={ingredient:i};n.post(s,t).success(function(n){e.query_result=n}),n.get("http://google.com").then(function(e){console.log(e)})},e.switchAndDisplay=function(n){e.chosen_ingredients.push(n),e.displayRecipes(),e.reset()},e.remove=function(n){e.chosen_ingredients.splice(n,1),e.displayRecipes()},e.details=function(t,r){var o={recipeId:e.dataArray[r].id};n.post("/api/composition/",o).success(function(e){s.setData(e),console.log(e),t.replace(" ","%20"),i.location.href="/#/details/"+t})},e.displayRecipes=function(){if(e.recipes.length=0,e.chosen_ingredients.length){var i="/api/composition/withIngredients/",s=new Array;e.chosen_ingredients.forEach(function(e){s.push(e.name)});var t={ingredients:s};n.post(i,t).success(function(n){e.dataArray=n,n.forEach(function(n){e.recipes.push({name:n.recipeName})})})}}}]);